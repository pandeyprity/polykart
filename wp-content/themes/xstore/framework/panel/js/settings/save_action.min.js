jQuery(document).ready(function(o){var i={popup:o(".et_panel-popup"),closePopupIcon:'<span class="et_close-popup et-button-cancel et-button"><i class="et-admin-icon et-delete"></i></span>',spinner:'<div class="et-loader ">\t\t\t\t\t<svg class="loader-circular" viewBox="25 25 50 50">\t\t\t\t\t<circle class="loader-path" cx="50" cy="50" r="12" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>\t\t\t\t\t</svg>\t\t\t\t</div>',i:0,j:0},s=function(){o("body").addClass("et_panel-popup-on"),i.popup.html(i.spinner)},p=function(t,e,n){i.popup.html("").addClass("loading"),("boolean"==typeof e&&1==e||void 0===e)&&i.popup.prepend(i.closePopupIcon),i.popup.append(t.response.icon),i.popup.append(t.response.msg),i.popup.addClass("active").removeClass("loading"),"boolean"==typeof n&&1==n&&(window.location=window.location.href)},r=(o("form.xstore-panel-settings").on("submit",function(t){t.preventDefault();var e=[],n=[],t=o(this).attr("data-settings-name"),a=o(this).attr("data-save-tab");s(),o(this).parent().parent().find(".et-tabs-content").each(function(){var t=o(this).attr("data-tab-content");a&&t!==a||"import"!==t&&(e.push(t),o(this).find(".xstore-panel-sortable, .xstore-panel-repeater").each(function(){var t=o(this).find(".xstore-panel-sortable-items").sortable("toArray",{attribute:"data-name"});o(this).find(".option-val").val(t)}),t=(t=o(this).find("form").serializeArray()).concat(o(this).find(".xstore-panel-option-switcher input[type=checkbox]:not(:checked)").map(function(){return{name:this.name,value:""}}).get()),n.push(t))}),r(e,n,t)}),function(e,n,a){o.ajax({method:"POST",url:XStorePanelSettingsConfig.ajaxurl,dataType:"JSON",data:{action:"xstore_panel_settings_save",settings:n[i.i],type:e[i.i],settings_name:a},success:function(t){e.slice(i.i,e.length),n.slice(i.i,n.length),i.i<e.length?(r(e,n,a),i.i++):(p(t),i.i=0)},error:function(){i.i=0,alert(XStorePanelSettingsConfig.ajaxError)}})})});
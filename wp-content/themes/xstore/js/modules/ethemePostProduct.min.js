!function(w){"use strict";w(window).on("elementor/frontend/init",function(){var s=elementorModules.frontend.handlers.Base.extend({onInit:function(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.local_params={clicked:!1},this.masonry=null,this.masonrySettings={},this.run()},getDefaultSettings:function(){return{selectors:{wrapperGrid:".etheme-product-grid",wrapperList:".etheme-product-list",gridItem:".etheme-product-grid-item",listItem:".etheme-product-list-item",image:".etheme-product-grid-image",sliderImages:".etheme-product-image-hover-slider",carouselImages:".etheme-product-image-hover-carousel",loadButton:".etheme-elementor-lazy-button",pagination:".etheme-elementor-pagination-ajax",wrapperPosts:".etheme-posts-wrapper",postItem:".etheme-post",tabContent:".etheme-elementor-tab-content",tabContentActive:".etheme-elementor-tab-content-active"},vars:{w_width:w(window).width(),w_height:w(window).height()}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$wrapperGrid:this.$element.find(e.wrapperGrid),$wrapperList:this.$element.find(e.wrapperList),$gridItem:this.$element.find(e.gridItem),$listItem:this.$element.find(e.listItem),$sliderImages:this.$element.find(e.sliderImages),$carouselImages:this.$element.find(e.carouselImages),$loadButton:this.$element.find(e.loadButton),$pagination:this.$element.find(e.pagination),$wrapperPosts:this.$element.find(e.wrapperPosts),$postItem:this.$element.find(e.postItem)}},run:function(){var n=this,e=n.getElementSettings(),t=n.getSettings("selectors"),r=n.getSettings("vars");let s="etheme_posts_tabs.default"==n.$element[0].dataset.widget_type,a=!!e.masonry;if(n.elements.$loadButton.length&&"scroll"==e.navigation){let s=n.elements.$loadButton;elementorFrontend.elements.$window.on("scroll",function(){var e=s.offset().top,t=s.outerHeight();w(this).scrollTop()<e+t-r.w_height||!s||n.local_params.clicked||n.elements.$loadButton.trigger("click")})}n.elements.$loadButton.on("click",function(){s&&w(this).parents(t.tabContent).length&&!w(this).parents(t.tabContentActive).length||n.loadPostProduct(n,w(this),w(this),a)}),n.elements.$pagination.on("click","a",function(e){e.preventDefault(),n.$element.addClass("etheme-loading"),n.loadPostProduct(n,w(this).parents(t.pagination),w(this),a,"pagination")}),n.elements.$sliderImages.length&&n.elements.$sliderImages.each(function(){n.sliderImagesHoverInit(w(this),t)}),n.elements.$carouselImages.length&&void 0!==window.hoverSlider&&(window.hoverSlider.init({}),window.hoverSlider.prepareMarkup()),a&&this.initMasonry()},sliderImagesHoverInit:function(e,t){var s={slider:e,index:0,process:!1,time:300,imagesWrapper:e.find(t.image),arrowsHTML:'<span class="hover-arrow hover-arrow-left"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n<path d="M17.976 22.8l-10.44-10.8 10.464-10.848c0.24-0.288 0.24-0.72-0.024-0.96-0.24-0.24-0.72-0.264-0.984 0l-10.92 11.328c-0.264 0.264-0.264 0.672 0 0.984l10.92 11.28c0.144 0.144 0.312 0.216 0.504 0.216 0.168 0 0.336-0.072 0.456-0.192 0.144-0.12 0.216-0.288 0.24-0.48 0-0.216-0.072-0.384-0.216-0.528z"></path>\n</svg></span><span class="hover-arrow hover-arrow-right"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\n<path d="M17.88 11.496l-10.728-11.304c-0.264-0.264-0.672-0.264-0.96-0.024-0.144 0.12-0.216 0.312-0.216 0.504 0 0.168 0.072 0.336 0.192 0.48l10.272 10.8-10.272 10.8c-0.12 0.12-0.192 0.312-0.192 0.504s0.072 0.36 0.192 0.504c0.12 0.144 0.312 0.216 0.48 0.216 0.144 0 0.312-0.048 0.456-0.192l0.024-0.024 10.752-11.328c0.264-0.264 0.24-0.672 0-0.936z"></path>\n</svg></span>'};function n(e){s.process=!1,s.image.attr("src",s.imagesList[e]).attr("srcset",""),s.image.removeAttr("srcset")}s.image=e.find(t.image).find("img"),s.imagesList=e.attr("data-images").split(";"),1<s.imagesList.length&&(s.imagesWrapper.hasClass("hover-arrows-added")||(s.imagesWrapper.addClass("hover-arrows-added").prepend(s.arrowsHTML),s.slider.find(".hover-arrow").mouseover(function(){s.slider.addClass("is_hover-arrows-hovered")}),s.slider.find(".hover-arrow").on("mouseleave",function(){s.slider.removeClass("is_hover-arrows-hovered")}),s.slider.find(".hover-arrow-left").on("click",function(e){s.process||(s.process=!0,0<s.index?s.index--:s.index=s.imagesList.length-1,n(s.index))}),s.slider.find(".hover-arrow-right").on("click",function(e){s.process||(s.process=!0,s.index<s.imagesList.length-1?s.index++:s.index=0,n(s.index))})))},getClosureMethodsNames:function(){return elementorModules.frontend.handlers.Base.prototype.getClosureMethodsNames.apply(this,arguments).concat(["onWindowResize","runMasonry"])},onWindowResize:function(){this.getElementSettings("masonry")&&this.runMasonry()},onElementChange:function(){this.getElementSettings("masonry")&&setTimeout(this.runMasonry)},setColsCountSettings:function(){var e,t,s=this.getElementSettings();switch(elementorFrontend.getCurrentDeviceMode()){case"mobile":e=s.cols_mobile,t=s.rows_gap_mobile.size;break;case"tablet":e=s.cols_tablet,t=s.rows_gap_tablet.size;break;default:e=s.cols,t=s.rows_gap.size}t=(t=t||s.rows_gap.size)||20,this.setSettings("colsCount",e),this.setSettings("rowsGap",t||s.rows_gap.size)},initMasonry:function(){imagesLoaded(this.elements.$postItem,this.runMasonry)},runMasonry:function(){var e=this.getSettings("selectors"),t=this.elements,s=(this.$element.find(e.postItem).css({marginTop:"",transitionDuration:""}),this.setColsCountSettings(),this.getSettings("colsCount")),n=this.getSettings("rowsGap"),r=2<=s;t.$wrapperPosts.toggleClass("etheme-masonry",r),r?(r=elementorModules.utils.Masonry,this.masonrySettings={container:t.$wrapperPosts,items:this.$element.find(e.postItem),columnsCount:s,verticalSpaceBetween:n},this.masonry=new r(this.masonrySettings),this.masonry.run()):t.$wrapperPosts.height("")},loadPostProduct:function(s,n,e,r,a="button"){s.local_params.clicked=!0;var i=s.getElementSettings(),o=this.getSettings("selectors"),l=parseInt(n.attr("data-paged")),d=parseInt(n.attr("data-max-paged")),m=parseInt(n.attr("data-limit")),p="pagination"==a;if(p||n.addClass("loading"),!(d<=l)){l+=1;let t={"posts-per-page":i.posts_per_page};n.attr("data-offset")&&(t.offset=n.attr("data-offset"));var g,h,c=n.attr("data-widget-type"),u={action:"etheme_elementor_lazy_load",security:n.attr("data-nonce"),query:n.attr("data-query-settings"),widgetType:c};switch(c){case"product-list":g=s.elements.$wrapperList,h=parseInt(g.find(".etheme-product-list-item").length)+parseInt(i.posts_per_page),m&&m<=h&&(t.limit=parseInt(i.posts_per_page)-(h-m)),u.postSettings=n.attr("data-product-settings");break;case"product-grid":g=s.elements.$wrapperGrid,h=parseInt(g.find(o.gridItem).length)+parseInt(i.posts_per_page),u.postSettings=n.attr("data-product-settings");break;default:g="posts-tabs"==c?n.parents(o.tabContentActive).find(o.wrapperPosts):s.elements.$wrapperPosts,h=parseInt(g.find(o.postItem).length)+parseInt(i.posts_per_page),u.postSettings=n.attr("data-post-settings")}p?(e=new URL(e.attr("href")),u.widgetId=n.attr("data-widget-id"),l=e.searchParams.get("etheme-"+c+"-"+u.widgetId+"-page"),u.totalPages=parseInt(n.attr("data-total-pages")),u.permalink=n.attr("data-permalink"),t.limit=m):m&&m<=h&&(t.limit=parseInt(i.posts_per_page)-(h-m)),t.paged=l,u.attr=t,u.loading_type=a,w.ajax({url:etConfig.ajaxurl,method:"POST",data:u,dataType:"json",success:function(e){p?(g.html(JSON.parse(e.content)),n.html(JSON.parse(e.pagination))):g.append(JSON.parse(e.content)),"product-list"==c&&i.show_divider&&s.$element.find(o.listItem).addClass("has-divider").last().removeClass("has-divider")},error:function(e){etTheme.et_notice("products","error")},complete:function(){var e;-1<w.inArray(c,["product-list","product-grid"])&&(w(document).trigger("etheme_product_grid_ajax_loaded"),w(document).trigger("yith_wcwl_reload_fragments"),(e=s.$element.find(o.sliderImages)).length&&e.each(function(){s.sliderImagesHoverInit(w(this),o)}),e=s.$element.find(o.carouselImages),void 0!==etTheme.reinitSwatches&&etTheme.reinitSwatches(),e.length)&&void 0!==window.hoverSlider&&(window.hoverSlider.init({}),window.hoverSlider.prepareMarkup()),p||(n.attr("data-paged",l),d<=l||m&&m<=h?n.remove():n.removeClass("loading").addClass("loaded"),t.offset&&h>=n.attr("data-found-posts")&&n.remove()),s.$element.removeClass("etheme-loading"),s.local_params.clicked=!1,r&&setTimeout(s.runMasonry())}})}}});w.each(["etheme_product_grid","etheme_product_list","etheme_product_carousel","etheme_posts","etheme_posts_chess","etheme_posts_tabs"],function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/"+t+".default",function(e){elementorFrontend.elementsHandler.addHandler(s,{$element:e})})})})}(jQuery);